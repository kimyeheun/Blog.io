!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/js/dist/",i(i.s=12)}([function(e,t,i){"use strict";function n(e){return"string"==typeof e&&e.length>0}function a(e,t){return(Array(t).join("0")+e).slice(-t)}function o(e,t){if(n(e)&&!$('script[src="'.concat(e,'"]'))[0]){var i=document.createElement("script");i&&(i.src=e,i.async=!0,"function"==typeof t&&i.addEventListener("load",(function(e){return t()})),document.getElementsByTagName("head")[0].appendChild(i))}}function r(e){n(e)&&!$('script[src="'.concat(e,'"]'))[0]&&$("head").append('<script src="'+e+'"> <\/script>')}function s(e){n(e)&&!$('link[href="'.concat(e,'"]'))[0]&&$("head").append('<link rel="stylesheet" href="'+e+'">')}function l(e){n(e)&&$("head").append("<style>"+e+"</style>")}function u(e){var t=(e=n(e)?e:location.href).split("/");return(0===t[0].length?location.protocol:t[0])+"//"+t[2]}function d(e,t){return(e-e%t)/t}function c(e){return"function"==typeof e?e():e}function p(e,t,i){return Math.abs(e-t)<=i}i.d(t,"i",(function(){return n})),i.d(t,"j",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s})),i.d(t,"d",(function(){return l})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return d})),i.d(t,"f",(function(){return c})),i.d(t,"e",(function(){return p}))},function(e,t,i){"use strict";i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s}));var n={playerClass:"on_player",slickSlide:"slickSlide",more:"more",swiperSlide:"swiperSlide",unknown:"unknown"},a={_self:"_top",_top:"_top",_player:"_player",_slotPlayer:"_slotPlayer",_popupPlayer:"_popupPlayer",_blank:"_blank"},o={_expandPlayerType:"_expandPlayerType",_slotPlayerType:"_slotPlayerType",_popupPlayerType:"_popupPlayerType",_fixedPlayerType:"_fixedPlayerType"},r={click:"click",show:"show",continue:"continue",paging:"paging"},s={notReady:-2,moduleLoading:-1,ready:0,playing:1,paused:2,end:3,stop:4,playable:function(e){return e>=s.ready}}},,function(e,t){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(e){return typeof e}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(t)}e.exports=i},function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s})),i.d(t,"d",(function(){return l}));var n=i(0),a={parent:Object(n.g)(document.referrer),me:Object(n.g)(location.href)};function o(e){var t=window.parent;t.length>0&&t.postMessage(JSON.stringify(e),a.parent)}function r(e,t,i){var n=document.getElementById(e),a=n&&n.contentWindow;null!==a&&a.postMessage(JSON.stringify(t),i)}function s(e,t){a[e]=t}function l(e){var t;t=function(t){if(t&&t.data&&function(e,t){for(var i in e)if(e[i]===t)return!0;return!1}(a,t.origin))try{var i=JSON.parse(t.data);"string"==typeof i.func&&"function"==typeof e[i.func]&&(t.stopPropagation(),e[i.func](i.value||{},t))}catch(e){}},window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t)}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(0);function a(){var e=$(".content").height(),t=$(".content_wrap");t.height()!==e&&t.height(e+"px");var i=$("#cidx_".concat(this.playedIdx," .thumb")),a=$(".widget_player");if(0!==i.length&&0!==a.length){var o=a.offset(),r=i.offset(),s=i.width(),l=a.width(),u=i.height();a.height();if(o.top!==r.top||o.left!==r.left||!Object(n.e)(s,l,1)){var d=a.position(),c=r.left+d.left-o.left,p=r.top+d.top-o.top;a.css({left:c+"px",top:p+"px",width:s+"px",height:u+"px"}),this.exPlayer.resize()}}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(5),a=i.n(n),o=i(6),r=i.n(o),s=i(0),l=function(){function e(){a()(this,e),this.loading={},this.func=null}return r()(e,[{key:"run",value:function(){0===Object.keys(this.loading).length&&"function"==typeof this.func&&this.func()}},{key:"asyncRun",value:function(e){this.func=e,this.run()}},{key:"loaded",value:function(e,t){void 0!==this.loading[t]&&(delete this.loading[t],this.run())}},{key:"loadScript",value:function(e){if(Object(s.i)(e)&&!$('script[src="'.concat(e,'"]'))[0]&&void 0===this.loading[e]){var t=document.createElement("script");if(t){t.src=e,t.async=!0;var i=this.loaded.bind(this);t.addEventListener("load",(function(t){return i(t,e)})),this.loading[e]=!0,document.getElementsByTagName("head")[0].appendChild(t)}}}},{key:"loadScripts",value:function(e){var t=this.loadScript.bind(this);e.forEach(t)}}]),e}()},,,,function(e,t,i){"use strict";i.r(t);var n=i(3),a=i.n(n),o=i(5),r=i.n(o),s=i(6),l=i.n(s),u=i(0),d=i(4),c=i(1),p=function(){function e(){r()(this,e),this.dtStrings=["yyyy","yy","MM","M","dd","d","HH","H","mm","m","ss","s","SSS","S"],this.parsedFormat={}}return l()(e,[{key:"getDateString",value:function(t,i){var n="";switch(i){case"yyyy":n=t.getFullYear().toString();break;case"yy":n=e.cropAndFill(t.getFullYear().toString(),2);break;case"dd":n=e.cropAndFill(t.getDate().toString(),2);break;case"d":n=t.getDate().toString();break;case"MM":n=e.cropAndFill((t.getMonth()+1).toString(),2);break;case"M":n=(t.getMonth()+1).toString();break;case"mm":n=e.cropAndFill(t.getMinutes().toString(),2);break;case"m":n=t.getMinutes().toString();break;case"HH":n=e.cropAndFill(t.getHours().toString(),2);break;case"H":n=t.getHours().toString();break;case"ss":n=e.cropAndFill(t.getSeconds().toString(),2);break;case"s":n=t.getSeconds().toString();break;case"SSS":n=e.cropAndFill(t.getMilliseconds().toString(),3);break;case"S":n=t.getMilliseconds().toString()}return n}},{key:"simpleDateFormat",value:function(e,t,i){var n,a=this;return!0===i?(void 0===a.parsedFormat[t]&&(a.parsedFormat[t]=t.split(/[\/\-._ :]/)),n=a.parsedFormat[t]):n=a.dtStrings,n.forEach((function(i){t=t.replace(i,a.getDateString(e,i))})),t}},{key:"format",value:function(t,i){try{return"string"==typeof i&&0!==i.length||(i="yyyy/MM/dd HH:mm:ss"),this.simpleDateFormat(e.parseIsoDatetime(t),i,!0)}catch(e){return""}}}],[{key:"parseIsoDatetime",value:function(e){var t=e.split(/[: T-]/).map(parseFloat);return new Date(t[0],t[1]-1,t[2],t[3]||0,t[4]||0,t[5]||0,0)}},{key:"cropAndFill",value:function(e,t){return e.length>t?e.substring(e.length-t):e.length<t?"0".repeat(t-e.length)+e:e}}]),e}();function y(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(e,t)}(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,r=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var f=function(){function e(t,i,n){r()(this,e),this.adStatus={remains:0,slots:[],configOrder:{},viewOrder:{},filled:{},insertedAdUrls:{},isLoaded:function(e){return"object"===a()(this.filled[e])},load:function(e,t){this.isLoaded(e)||(this.filled[e]=t,this.remains--)},failed:function(){this.remains--},remove:function(e){this.isLoaded(e)&&delete this.filled[e]},getOrder:function(e){var t=this.viewOrder[e];return void 0===t?-1:t}},this.contents=t,this.options=i,this.onLoad=n,!0===i.ad.show&&Object(u.a)("/css/ad_slot.css")}return l()(e,[{key:"isAllLoaded",value:function(){return 0===this.adStatus.remains}},{key:"forceDone",value:function(){this.adStatus.remains=0,this.onLoad()}},{key:"fillCustomAdData",value:function(e,t,i){Object(u.i)(i.text)&&i.pos.length>0&&$.each(i.pos,(function(n,a){"mark"===a?e[a]=i.text:"title"===a?e[a]="["+i.text+"] "+t.title:"source"===a&&(e[a]=i.text+" ("+t.source+")")}))}},{key:"isValidAdSource",value:function(e,t){return t=t||{},Object(u.i)(t.url)&&Object(u.i)(t.image)&&e>=0&&e<this.contents.length}},{key:"makeAdData",value:function(e,t,i){var n={cidx:"cidx_"+e,cimg:"cimg_"+e,order:Object(u.j)(e+1,this.options.orderPaddingSize),url:t.url,image:t.image,impimg:t.impimg,title:t.title,source:t.source};return this.fillCustomAdData(n,t,i),n}},{key:"makeDummyData",value:function(e,t){var i={tid:"t_item_dummy",cidx:"cidx_".concat(e)};return this.fillCustomAdData(i,{},t),i}},{key:"renderAdData",value:function(e,t){var i=e.tid||"t_item_ad",n=$("#".concat(i)).html()||"",a="#"+e.cidx;if($(a).parent().html(Mustache.render(n,e)),Object(u.i)(e.mark)){var o=t,r="black"===o.bgcolor?"type_b":"type_w";"small"===o.size&&(r+=" size_s"),$(a).find(".ad_label").addClass(r)}else $(a).find(".ad_label").remove()}},{key:"fillAd",value:function(e,t){if(!this.isValidAdSource(e,t))return this.adStatus.failed(),!1;this.adStatus.load(e,{img:t.image,url:t.url});var i=this.options.ad.info||{};return this.renderAdData(this.makeAdData(e,t,i),i.option||{}),this.onLoad(),!0}},{key:"renderCriteo",value:function(e,t){var i=e.products||[];if(0!==i.length){var n=i[0],a=e.impression_pixels||[],o=(a.length>0?a[0]:{}).url,r=e.advertiser||{};n.image=n.image||{},this.fillAd(t,{url:n.click_url,image:n.image.url,impimg:o,source:r.domain,title:n.title})}}},{key:"initCriteo",value:function(){"object"!==a()(window.Criteo)&&(Object(u.b)("//static.criteo.net/js/ld/publishertag.js"),window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[])}},{key:"criteoNoAd",value:function(e){console.log("no ad for - "+e)}},{key:"makeCriteoAdUnits",value:function(e){var t=this;return{placements:$.map(e,(function(e){return{slotId:"cidx_"+e,zoneId:1518955,nativeCallback:function(i){t.renderCriteo(i,e)}}}))}}},{key:"callCriteo",value:function(e){if(this.options.ad.useCriteo){if(0!==e.length){var t=this;t.initCriteo(),Criteo.events.push((function(){var i=t.makeCriteoAdUnits(e);Criteo.Passback.RequestBids(i,500),$.each(i.placements,(function(e,i){Criteo.Passback.RenderAd(i.slotId,(function(){t.criteoNoAd(i.slotId)}))}))}))}}else this.forceDone(this)}},{key:"renderAd4989",value:function(t,i){var n=[];try{for(var a=e.trimRight(t.tag,",\n\r"),o=JSON.parse("["+a+"]"),r=i.length,s=0;s<r;s++){var l=i[s],u=!1;if(s<o.length){var d=o[s];u=this.fillAd(l,{url:d.click_url,image:d.image_url,source:d.adver_name,title:d.title})}u||n.push(l)}}catch(e){Array.prototype.push.apply(n,i)}this.callCriteo(n)}},{key:"callAd4989",value:function(e){var t=this,i=this.options.pageid;$.ajax({type:"GET",async:!0,data:"pageid=".concat(i,"&maxslot=").concat(e.length,"&lang=utf-8&out=json"),url:"//deepdivead.zum.com/cgi-bin/pelicanc.dll?impr",cache:!1,dataType:"jsonp",jsonp:"jquerycallback",success:function(i){t.renderAd4989(i,e)},error:function(){t.callCriteo(e)}})}},{key:"cropValidSlot",value:function(t,i,n){return $.map(t,(function(t,a){var o=e.slotToIdx(t,i.pageSize,i.totPage);return!t.dummy&&o>=0?(n.configOrder[o]=a,o):null}))}},{key:"cropDummySlots",value:function(t,i){return $.map(t,(function(t,n){var a=e.slotToIdx(t,i.pageSize,i.totPage);return t.dummy&&a>=0?a:null}))}},{key:"renderDummySlots",value:function(e){var t,i=this.options.ad.info||{},n=y(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.renderAdData(this.makeDummyData(a,i),i.option||{})}}catch(e){n.e(e)}finally{n.f()}}},{key:"markAdOrder",value:function(e){var t=[];Array.prototype.push.apply(t,e.slots),t.sort((function(e,t){return e-t})),$.each(t,(function(t,i){e.viewOrder[i]=t}))}},{key:"loadAd",value:function(){var e=this,t=this.options.ad||{};if(t.show&&0!==$("#t_item_ad").length){setTimeout((function(){e.forceDone()}),1e3);var i=this.adStatus;i.slots=this.cropValidSlot(t.slots,this.options,i),i.dummySlots=this.cropDummySlots(t.slots,this.options),i.remains=i.slots.length,this.markAdOrder(i),this.renderDummySlots(i.dummySlots),i.remains<1||this.callAd4989(i.slots)}}}],[{key:"trimRight",value:function(e,t){for(var i=e.length-1;i>=0&&-1!==t.indexOf(e.charAt(i));i--);return e.slice(0,i+1)}},{key:"slotToIdx",value:function(e,t,i){var n="string"==typeof e.pos?parseInt(e.pos):e.pos,a="string"==typeof e.page?parseInt(e.page):e.page;return n<=0||n>t||a<=0||a>i?-1:(a-1)*t+n-1}}]),e}(),g=i(7),v=function(){function e(){r()(this,e)}return l()(e,null,[{key:"sendEvent",value:function(e,t,i,n){if("object"===a()(e)){var o={puid:e.psid,wsid:e.wsid,domainId:e.domainId,widgetId:e.wid,vendorId:e.vendorId,contentId:e.cid,url:e.url};"function"==typeof n&&(window.zCOLCallback=n),$.extend(o,i),zCOLTracker.push([t,o])}}},{key:"sendViewEvent",value:function(t){e.sendEvent(window.widget,"@WidgetView",{},t)}},{key:"sendPagingEvent",value:function(t,i){e.sendEvent(window.widget,"@WidgetPaging",{widgetPage:t},i)}},{key:"sendBannerViewEvent",value:function(t,i,n,a){var o={pageSize:t.pageSize,widgetPage:i.curPage+1},r=$.map(n.slots,(function(e){var t=o.pageSize*i.curPage,a=t+o.pageSize;return void 0===n.filled[e]?null:t<=e&&a>e?n.getOrder(e)+1:null}));0!==r.length&&(o.bannerNumber=r.join(","),e.sendEvent(window.widget,"@WidgetBannerView",o,a))}},{key:"sendWidgetPlayEvent",value:function(t,i,n,a){var o={cpuid:t,widgetPage:i.curPage+1,playAction:n.action,playDomainId:n.domainId,playContentId:n.contentId};e.sendEvent(window.widget,"@WidgetPlay",o,a)}}]),e}(),m=function(){function e(t){r()(this,e),this.frameId=t.frameId,this.popupFrameId=this.frameId+"__pop",this.options=t,this.readyFunc=null}return l()(e,[{key:"load",value:function(e){this.readyFunc=e;var t=this.options.exPlayer;Object(d.c)({func:"createPopupPlayer",value:{fid:this.frameId,popupPlayer:{position:t.position||{distX:100,distY:40,width:332,height:293,distFrom:"bottomRight"},style:"z-index: 6"}}})}},{key:"messageToWidget",value:function(e,t){Object(d.c)({func:"messageTrans",value:{from:this.frameId,to:this.popupFrameId,func:e,value:t}})}},{key:"play",value:function(e,t){this.messageToWidget("play",{cid:e,content:t})}},{key:"pause",value:function(){this.messageToWidget("pause",{})}},{key:"stop",value:function(){this.messageToWidget("stop",{})}},{key:"initPlayer",value:function(e){this.popupFrameId=e.popupFrameId||this.popupFrameId,this.messageToWidget("initPlayer",{options:this.options,widget:window.widget})}},{key:"ready",value:function(){"function"==typeof this.readyFunc&&(this.readyFunc(),this.readyFunc=null)}}]),e}(),w=function(){function e(t){r()(this,e),this.contents=t.contents,this.options=t.options,this.ad=t.ad,this.widgetStatus=t.widgetStatus,this.exPlayer=null,this.playerTrackId=0,this.playedIdx=-1,this.playerType=this.initPlayerType(this.options),this.playerAttr=this.initPlayerAttr(this.options),this.state=c.c.notReady,this.moving=!1,this.virtualPlayer=new m(this.options),this.setPlayInfo={},this.playFunc=null,this.widget=t,this.validateContinueLevel(this.options),this.isPopupPlayer()||this.initWindowEvent()}return l()(e,[{key:"validateContinueLevel",value:function(e){var t=e.exPlayer;"string"!=typeof t.continueLevel?t.continueLevel=t.continuePlay?"page":"none":-1===["none","page","widget"].indexOf(t.continueLevel)&&(t.continueLevel="none")}},{key:"isValidPlayer",value:function(){return this.playerType in c.d}},{key:"isFixedPlayer",value:function(){return this.playerType===c.d._fixedPlayerType}},{key:"isPopupPlayer",value:function(){return this.playerType===c.d._popupPlayerType}},{key:"isSlotPlayer",value:function(){return this.playerType===c.d._slotPlayerType}},{key:"isExpandPlayer",value:function(){return this.playerType===c.d._expandPlayerType}},{key:"isAutoPlay",value:function(){return this.options.exPlayer.autoPlay}},{key:"initWindowEvent",value:function(){var e=this;window.onPlayEnd=function(){e.state=c.c.end,e.continuePlay()},window.onPlayerClose=function(){e.close(),window.resizeIframe(0)},window.onPlayResize=window.onPlayResize||(e.isSlotPlayer()?e.getSlotTitleResize():e.isFixedPlayer()?e.getFixedTitleResize():void 0),window.onSettedPlay=function(t){e.state=c.c.playing,e.openPlayer(),v.sendWidgetPlayEvent(t,e.widgetStatus,e.setPlayInfo)}}},{key:"appendPlayerEvent",value:function(e){var t=this;e.playerReady=function(e){t.virtualPlayer.ready()},e.playEventOnPlayEnd=function(e){t.state=c.c.end,t.continuePlay()},e.playEventOnPlayClose=function(e){t.close()},e.popupPlayerFrameCreated=function(e){t.virtualPlayer.initPlayer(e)},e.playEventOnSettedPlay=window.onSettedPlay}},{key:"migratePlayerType",value:function(e){switch(e){case c.a._player:return c.d._expandPlayerType;case c.a._slotPlayer:return c.d._slotPlayerType;case c.a._popupPlayer:return c.d._popupPlayerType;default:return e}}},{key:"initPlayerType",value:function(e){return e.openTarget===c.a._slotPlayer||e.openTarget===c.a._player||e.openTarget===c.a._popupPlayer?this.migratePlayerType(this.options.exPlayer.playerType):""}},{key:"initPlayerAttr",value:function(e){var t=e.exPlayer.attr||{};return this.isAutoPlay()&&void 0===t.muted&&(t.muted=!0),t}},{key:"resizePlayerLazy",value:function(){var e=this.options;this.isFixedPlayer()||0===this.playerTrackId&&(this.isPlayerVisible()||"function"==typeof e.func.resizePlayer)&&(this.playerTrackId=setInterval(e.func.resizePlayer,200))}},{key:"stopPlayerTracking",value:function(){clearInterval(this.playerTrackId),this.playerTrackId=0}},{key:"getSlotTitleResize",value:function(){var e=this;return function(){var t=e.options.exPlayer,i=$("#".concat(t.id)).height(),n=$(".content .thumb").height(),a=$("#cidx_".concat(e.playedIdx)),o=$("#cidx_".concat(e.playedIdx," .title")),r=$(".content_wrap, .slick-list"),s=i-n;if(s<=0&&(s=0),o.css("margin-top","".concat(s,"px")),r[0]){var l=Object(u.f)(t.resizeInfo.pad);r.height(a.height()+l)}}}},{key:"getFixedTitleResize",value:function(){var e=this;return function(){var t=e.options.exPlayer,i=$("#".concat(t.id)).height(),n=2*$(".content .thumb img").height()+$(".content .title").height(),a=$(".widget_player .player_title");i<n?a.addClass("no_ad"):a.removeClass("no_ad")}}},{key:"getExpandResize",value:function(e){var t="#"+this.options.exPlayer.id,i="string"==typeof e.targetChild?e.targetChild:" .title";return function(){var n=function(e){var t;if(e.length>0&&-1!=="#.:".indexOf(e.charAt(0)))return e;switch(e){case"selected":t=".selected";break;case"bottom":t=":last-child";break;case"middle":default:t=":first-child"}return".list li"+t}(Object(u.f)(e.target)),a=n+i,o=Object(u.f)(e.expandTarget)||n,r=Object(u.f)(e.pad),s=$(t).height()+r,l=$(o),d=parseInt(l.css("padding-bottom"));Object(u.e)(s,d,2)||($(".list li").css("padding-bottom",0),$("li.selected").length>0&&l.css("padding-bottom",s+"px"));var c=$(a),p=$(".widget_player");0!==c.length&&c.offset().top!==p.position().top&&p.css("top",c.offset().top+"px")}}},{key:"getResizeFunc",value:function(e){return"object"!==a()(e)?function(){}:"content"===e.target?g.a:this.getExpandResize(e)}},{key:"checkSelector",value:function(e){return $(e).length>0}},{key:"initDom",value:function(){var e=this.options;if(!this.checkSelector(".widget_player")){var t=$.map(this.playerAttr,(function(e,t){return t+'="'+e+'"'})).join(" "),i='<div class="widget_player">\n    <div class="player_wrap" id="'+e.exPlayer.id+'" '+t+'">\n    </div>\n</div>';$("#widget").append(i)}if(this.isSlotPlayer()){var n=$("li .video_item");0!==n.length&&$(".widget_player").css({width:n.width()+"px"})}if(this.isFixedPlayer()){var a=this.contents[this.playedIdx].metas.title;$(".widget_player").append('<div class="player_title no_ad"><p>'.concat(a,"</p></div>"))}if(e.exPlayer.expandPlayerTitle){var o=this.contents[this.playedIdx].metas.title;if(e.exPlayer.expandPlayerOutlink){var r=this.playedIdx,s=this.contents[this.playedIdx].metas.url;$(".widget_player").append('<div class="player_title expandPlayerOutlink"><a id="pidx_'.concat(r,'" href="').concat(s,'"><h3>').concat(o,"</h3></a></div>"))}else $(".widget_player").append('<div class="player_title"><h3>'.concat(o,"</h3></div>"))}}},{key:"loadPlayerScript",value:function(e){var t=this.isSlotPlayer()||this.isFixedPlayer()?"https://lib.zumst.com/3rd/embed/player.js":this.isExpandPlayer()?"https://lib.zumst.com/3rd/embed/expand.js":"";Object(u.c)(t,(function(){e()}))}},{key:"createInnerPlayer",value:function(e){this.loadPlayerScript(function(){this.loadInnerPlayer(),e()}.bind(this))}},{key:"createPopupPlayer",value:function(e){this.exPlayer=this.virtualPlayer,this.exPlayer.load(function(){this.state=c.c.ready,e()}.bind(this))}},{key:"readyPlayer",value:function(e){c.c.playable(this.state)?e():this.isModuleLoading()||(this.state=c.c.moduleLoading,this.isPopupPlayer()?this.createPopupPlayer(e):this.createInnerPlayer(e))}},{key:"loadInnerPlayer",value:function(){if(null==this.exPlayer)try{var e=this.options,t=e.exPlayer,i=t.invenId;"function"==typeof i&&(i=i());var n={containerId:t.id,invenId:i,device:e.deviceType,wid:window.widget.wid};this.initDom(),this.exPlayer=this.isSlotPlayer()?new zumEmbedPlayer(n):this.isExpandPlayer()?new zumExpandPlayer(n):this.isFixedPlayer()?new zumEmbedPlayer(n):null,null!=this.exPlayer&&(this.state=c.c.ready,"function"!=typeof e.func.resizePlayer&&(e.func.resizePlayer=this.getResizeFunc(t.resizeInfo).bind(this)),this.playFunc=this.isSlotPlayer()?function(e){this.exPlayer.naPlay(e)}:this.isExpandPlayer()?function(e){this.exPlayer.play(e)}:this.isPopupPlayer()?function(e,t){this.exPlayer.play(e,t)}:this.isFixedPlayer()?function(e){this.exPlayer.naPlay(e)}:null)}catch(e){console.error(e)}}},{key:"setMoving",value:function(e){this.moving=e}},{key:"isMoving",value:function(){return this.moving}},{key:"isNotReady",value:function(){return this.state===c.c.notReady}},{key:"isModuleLoading",value:function(){return this.state===c.c.moduleLoading}},{key:"isPaused",value:function(){return this.state===c.c.paused}},{key:"isPlaying",value:function(){return this.state===c.c.playing}},{key:"isEnd",value:function(){return this.state===c.c.end}},{key:"isPlayerVisible",value:function(){return $("#widget").hasClass(c.e.playerClass)}},{key:"isPlayingContent",value:function(e){return(this.isPlaying()||this.isEnd())&&this.isPlayerVisible()&&e.hasClass("selected")}},{key:"openPlayer",value:function(){$("#widget").addClass(c.e.playerClass)}},{key:"hidePlayer",value:function(){$("#widget").removeClass(c.e.playerClass)}},{key:"close",value:function(){if(this.isPlayerVisible()&&!this.isNotReady()){var e=$(".list li");e.css("padding-bottom",0),e.removeClass("selected"),this.exPlayer.pause(),this.stopPlayerTracking(),this.hidePlayer(),this.playedIdx=-1,this.state=c.c.stop}}},{key:"play",value:function(e,t,i){var n=this,a=$("#cidx_"+t).parent();if(!n.isPlayingContent(a)){var o=n.contents[t];if(n.setPlayInfo={action:i||c.b.click,domainId:o.domainId,contentId:o.contentId},n.isFixedPlayer()&&$(".widget_player .player_title p").text(o.metas.title),n.options.exPlayer.expandPlayerTitle){var r=$(".widget_player .player_title a");$(".widget_player .player_title a h3").text(o.metas.title),n.options.exPlayer.expandPlayerOutlink&&(r.prop("href",o.metas.url),r.prop("id","pidx_"+t))}$(".list li").removeClass("selected"),$(".list .title").css("margin-top",""),a.addClass("selected"),n.playedIdx=t,n.stopPlayerTracking(),n.readyPlayer((function(){null!==n.playFunc&&n.playFunc(e,o),n.resizePlayerLazy()}))}}},{key:"pause",value:function(){this.isNotReady()||"function"==typeof this.exPlayer.pause&&(this.exPlayer.pause(),this.state=c.c.paused)}},{key:"stop",value:function(){this.close()}},{key:"resume",value:function(e,t){this.isNotReady()?this.validContentPlay(e,t):-1!==this.playedIdx&&(this.openPlayer(),this.exPlayer.resume(),this.state=c.c.playing)}},{key:"getContinueIndex",value:function(e){for(var t=this.ad.adStatus,i=this.options.pageSize,n=Object(u.h)(e,i),a=this.contents.length,o=e;o<a;o++){if(n!==Object(u.h)(o,i))return-1;if(!t.isLoaded(o))break}return o}},{key:"continuePlay",value:function(){var e=this.playedIdx+1,t=this.options,i=t.exPlayer.continueLevel;"none"===i||"page"===i&&e%t.pageSize==0||(e%t.pageSize==0?this.widget.slickGoToIdx(e,-1):this.validContentPlay(e,c.b.continue))}},{key:"validContentPlay",value:function(e,t){if(!this.isValidPlayer())return!1;var i=this.getContinueIndex(e);return!(i>=this.contents.length||i<0)&&(this.play(this.contents[i].contentId,i,t),!0)}}]),e}(),k=i(8);function b(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return P(e,t)}(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,r=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function S(){return $("body").height()}function x(e,t){"_top"!==t&&(t="dd_"+Date.now());var i=document.createElement("a");i.href=e,i.target=t,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function I(e){if("string"==typeof e){var t=e.split("_",2);if(t.length>1)return parseInt(t[1])}return-1}window.widget=window.widget||{},window.ddData=$.extend(!0,{},{contents:{},options:{pageSize:0,zumcategory:"",contentCount:0,deviceType:"pc",visible:!1,exPlayer:{id:"expandablePlayer",continuePlay:!0,continueLevel:"page",autoPlay:!1,autoPagingPlay:!0,expandPlayerTitle:!1,expandPlayerOutlink:!1},bgImage:"",initHeight:0,maxHeight:1e3,orderPaddingSize:2,openTarget:"_blank",coords:{eventLine:0},position:{distX:50,distY:50,width:500,height:500,distFrom:"bottomRight",enablePopUp:!1},title:"동영상 콘텐츠 추천",ad:{show:!1,useCriteo:!1,info:{},slots:[]},thumb:{api:"thumb",width:230,height:129},contentRatio:{total:0,ratio:[]}}});var T=function(){function e(){r()(this,e),this.df=new p,this.widgetStatus={wType:c.e.unknown,curPage:0,initSession:!1,loaded:!1,viewed:!1,bannerViewed:!1,touchViewLine:!1,isSwiping:!1,isOnScreen:!1},this.init()}return l()(e,[{key:"init",value:function(){this.loadData(),this.options=window.ddData.options,"widget"===window.initType?this.initWidgetResource():"scrap"===window.initType?(Object(u.b)("/js/ex/collect.z7.js"),this.initMessageEvent()):console.error("invalid initType: "+window.initType)}},{key:"loadData",value:function(){void 0!==window.tmpOptions&&($.extend(!0,window.ddData.options,window.tmpOptions),delete window.tmpOptions),void 0!==window.svrData&&($.extend(!0,window.ddData,window.svrData.ddData),$.extend(!0,window.widget,window.svrData.widget),delete window.svrData)}},{key:"isOnScreen",value:function(){return this.widgetStatus.isOnScreen}},{key:"initWidgetResource",value:function(){var e=this;e.contents=window.ddData.contents;var t=e.contents,i=e.options;i.totPage=i.pageSize>0?Object(u.h)(t.length,i.pageSize):0,i.openTarget=c.a[i.openTarget]||c.a._blank,i.exPlayer.playerType=i.exPlayer.playerType||i.playerType||i.openTarget,i.frameId=i.frameId||"deepdive_frame",i.exPlayer.invenId=window.widget.invenId||i.exPlayer.invenId||("mobile"===i.deviceType?"XCTNH":"GSEJW"),i.deviceType="mobile"===i.deviceType?"mobile":"pc";var n,a=b(i.contentRatio.ratio||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.contentRatio.total+=o.size}}catch(e){a.e(e)}finally{a.f()}i.position.enablePopUp=i.position.enablePopUp||i.openTarget===c.a._popupPlayer;var r=new k.a;e.appendResource(r),e.ad=new f(t,i,(function(){e.onLoaded()})),e.player=new w(e),r.asyncRun((function(){e.initMessageEvent(),e.initWindowEvent(),e.initVisibilityEvent(),$(document).ready((function(){return e.start()}))}))}},{key:"appendResource",value:function(e){var t=this.options,i=window.exData,n=["/js/ex/json.js","/js/ex/mustache-4.0.1.min.js","/js/ex/collect.z7.js"];switch(t.sliderType){case"swiper":Object(u.a)(i.swiper.css),n.push(i.swiper.js);break;case"slick":Object(u.a)(i.slick.css),n.push(i.slick.js)}Object(u.d)(t.style),e.loadScripts(n)}},{key:"onPlayerScreenChanged",value:function(e){e?(this.player.isPaused()||this.player.isAutoPlay())&&this.player.resume(this.widgetStatus.curPage*this.options.pageSize,c.b.show):this.player.pause()}},{key:"initMessageEvent",value:function(){var e={},t=this.options,i=this;e.onScreenChanged=function(e){i.widgetStatus.isOnScreen=e.onScreen,i.onPlayerScreenChanged(e.onScreen)},e.onInitSession=function(e){window.widget=$.extend(!0,{},e,window.widget),i.widgetStatus.initSession=!0,i.onLoaded()},e.onParentScroll=function(e){void 0===e.coords.name&&(i.widgetStatus.touchViewLine=!0,i.onView())},e.scrapTags=function(e){var i=e;i.zumcategory=Object(u.i)(t.zumcategory)?t.zumcategory:"","undefined"!=typeof zCOLTracker&&void 0!==i.contentId&&(i.md5=$.md5(JSON.stringify(i)),zCOLTracker.push(["@ContentsScrap",i]))},i.player&&i.player.appendPlayerEvent(e),Object(d.d)(e),Object(d.c)({func:"eventReady",value:{fid:i.options.frameId}})}},{key:"initVisibilityEvent",value:function(){var e=this;document.addEventListener("visibilitychange",(function(){document.hidden?e.player.pause():(e.player.isPaused()||e.player.isAutoPlay())&&e.isOnScreen()&&e.player.resume(e.widgetStatus.curPage*e.options.pageSize,c.b.show)}),!1)}},{key:"initWindowEvent",value:function(){var e=this;window.resizeIframe=window.resizeIframe||function(t){if("number"==typeof t&&0!==t||(t=S()),0!==t){var i=e.options.frameId;Object(d.c)({func:"resizeIframeHeight",value:{fid:i,h:t}})}},window.reserveContent=window.reserveContent||function(t){var i=I(t.id);-1!==i&&!1!==e.fillContent(i)||(t.onerror=null,t.src="")},window.reserveImage=window.reserveImage||function(e){e.onerror=null,e.src=""}}},{key:"slideInitTracker",value:function(e){var t=this,i=setInterval((function(){0!==$(e).length&&(clearInterval(i),t.onSlideInit())}),50)}},{key:"bodySizeTracker",value:function(){var e=this.options.initHeight||S();setInterval((function(){var t=S(),i=$(window).height();(e!==t||t-i-1>0)&&(e=t,window.resizeIframe(t))}),200)}},{key:"setMore",value:function(e,t,i){var n=t.length;if(!(n<=0)){var a=0,o=this,r=function(){if(a<n){a>0&&o.onPageChange(Object(u.h)(a,i));for(var e=0;e<i&&a<n;e++,a++)t.eq(a).show();a+1>=n&&$(this).remove(),window.resizeIframe(0)}};n<=i?e.remove():e.on("click",r),r()}}},{key:"onInitSize",value:function(){var e=this.options,t=e.position;0===t.height&&(t.enablePopUp=!1),Object(d.c)({func:"initPosition",value:{fid:this.options.frameId,position:t,coords:[e.coords]}})}},{key:"showWidget",value:function(){var e=this.options;Object(d.c)({func:"showWidget",value:{fid:this.options.frameId,show:e.contentCount>0,count:e.contentCount}})}},{key:"setResponsivePageSize",value:function(e){this.options.responsive&&(this.options.pageSize=e.options.slidesToShow*e.options.slidesPerRow*e.options.rows)}},{key:"showIframe",value:function(e){Object(d.c)({func:"showIframe",value:{fid:this.options.frameId,show:e}})}},{key:"getSlickPage",value:function(e,t){return Object(u.h)(t,e.options.slidesToShow)}},{key:"getSlickIdxSlide",value:function(e,t){var i=e.options.slidesPerRow*e.options.rows;return Object(u.h)(t,i)}},{key:"getValidPage",value:function(e,t){return e<0||e>=this.contents.length?-1:Object(u.h)(e,t)}},{key:"getValidContentType",value:function(e){var t={default:!0},i=this.options.contentRatio||[];if(!i||0===i.total||!i.ratio||0===i.ratio.length)return t;var n,a=e%i.total,o=0,r=b(i.ratio);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(a<(o+=s.size))return JSON.parse('{"'.concat(s.type,'": true}'))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"initSlickEvent",value:function(e){if(void 0!==e&&this.widgetStatus.wType===c.e.slickSlide){var t=this;t.setResponsivePageSize(e[0].slick),e.on("afterChange",(function(e,i,n){t.widgetStatus.isSwiping=!1;var a=t.getSlickPage(i,n);t.player.isMoving()&&(t.player.setMoving(!1),t.slickGoToIdx(t.player.playedIdx,a))||(t.onPageChange(a),t.options.responsive&&t.resizeContentHeight())})).on("beforeChange",(function(){t.widgetStatus.isSwiping=!0,t.player.isSlotPlayer()&&t.player.stop()})).on("breakpoint",(function(e,i){if(t.setResponsivePageSize(i),t.widgetStatus.curPage=-1,i.touchObject={},t.options.responsive){var n=t.player;n.isAutoPlay()&&(n.isPlaying()||n.isEnd())&&n.setMoving(!0)}}))}}},{key:"slickGoToIdx",value:function(e,t){if("object"!==a()(this.slickObj)||0===this.slickObj.length||e<0)return!1;var i=this.slickObj[0].slick,n=this.getSlickIdxSlide(i,e),o=this.getSlickPage(i,n);return t!==o&&(setTimeout(function(){this.slickObj.slick("slickGoTo",o)}.bind(this),100),!0)}},{key:"initWidget",value:function(){this.showWidget(),this.onInitSize(),this.bodySizeTracker()}},{key:"onSlideInit",value:function(){var e=this.options.initHeight||0;"string"==typeof e&&(e=Number(e)),"number"==typeof e&&e>0&&window.resizeIframe(e),this.initWidget()}},{key:"start",value:function(){var e=this.options;if(e.contentCount<=0)this.showWidget();else{this.setThumbBgImage(),this.initThumbBg(),this.initClickEvent(),this.renderMustache(),this.initLogoClick(),this.ad.loadAd(),e.func=e.func||{};var t=e.func;"function"==typeof t.initSlick?(this.widgetStatus.wType=c.e.slickSlide,this.slickObj=t.initSlick(),this.initSlickEvent(this.slickObj),this.slideInitTracker(".slick-initialized")):"function"==typeof t.getMoreBtn||"function"==typeof t.getList?(this.widgetStatus.wType=c.e.more,this.setMore(t.getMoreBtn(),t.getList(),e.pageSize),this.initWidget()):"function"==typeof t.initSwiper?(this.widgetStatus.wType=c.e.swiperSlide,t.initSwiper(),this.slideInitTracker(".swiper-container-initialized")):(this.widgetStatus.wType=c.e.unknown,this.initWidget())}}},{key:"onPageChange",value:function(e){var t=this.options;this.widgetStatus.curPage!==e&&(this.widgetStatus.curPage=e,this.widgetStatus.viewed&&(v.sendPagingEvent(e+1),v.sendBannerViewEvent(t,this.widgetStatus,this.ad.adStatus),(t.exPlayer.autoPagingPlay||this.player.isPlayerVisible())&&this.getValidPage(this.player.playedIdx,this.options.pageSize)!==e&&(this.player.validContentPlay(e*t.pageSize,c.b.paging)||this.player.stop())))}},{key:"onView",value:function(){var e=this.widgetStatus;e.touchViewLine&&(e.viewed||(e.viewed=!0,v.sendViewEvent()),e.bannerViewed||0!==this.ad.adStatus.remains||(e.bannerViewed=!0,v.sendBannerViewEvent(this.options,this.widgetStatus,this.ad.adStatus)))}},{key:"contentToItem",value:function(e){return $.map(e,(function(e){var t={};return $.each(e,(function(e,i){"object"!==a()(i)&&(t[e]=i)})),t}))}},{key:"onLoaded",value:function(){var e=this.options,t=this.widgetStatus;if(t.initSession&&!t.loaded&&this.ad.isAllLoaded()){if(t.loaded=!0,e.contentCount>0&&!0===e.visible){var i=this.contentToItem(this.contents),n=[],a=this.ad.adStatus;$.each(a.slots,(function(e,t){void 0!==a.filled[t]&&(n.push(a.getOrder(t)+1),i[t].recoType="banner")})),$.each(i,(function(e,t){return t.r=e+1}));var o={items:i,pageSize:e.pageSize};n.length>0&&(o.bannerNumber=n.join(",")),v.sendEvent(window.widget,"@WidgetLoaded",o)}else{var r={};e.visible||(r.disabled=!0),v.sendEvent(window.widget,"@WidgetNull",r)}this.showIframe(0!==$("body").html().trim().length),this.onView()}}},{key:"getContentWithIdx",value:function(e,t){return-1===e||!Array.isArray(t)||t.length<=e?null:t[e]}},{key:"getModifiedClickUrl",value:function(e,t,i,n){var a=e;if(-1===a.indexOf(t)){var o=a.lastIndexOf("/");-1!==o&&a.indexOf("play/")+4===o&&(a=a.substring(0,o+1)+t)}return a+=-1===a.indexOf("?")?"?":"&",a+="utm_source=deepdive",a+="&ddwidgetId="+window.widget.wid,a+="&recoType="+i,a+="&r="+n}},{key:"onContentClick",value:function(e,t){var i=void 0===t?this:t;if(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),!i.widgetStatus.isSwiping){var n=e.currentTarget,o=I(n.id),r=i.getContentWithIdx(o,i.contents);if(null!==r){var s=i.ad.adStatus,l=i.options,u=o+1,d="object"===a()(s.filled[o])?"_blank":l.openTarget,p="object"===a()(s.filled[o])?"banner":r.recoType,y=r.contentId,h=r.domainId,f=-1,g="@WidgetClick",m=null;if("banner"!==p)if(i.player.isValidPlayer())i.player.play(y,o,c.b.click);else{var w=i.getModifiedClickUrl(n.href,y,p,u);m="_top"===d?function(){return x(w,d)}:x(w,d)&&null}else g="@WidgetBannerClick",f=s.getOrder(o)+1,x(n.href,"_blank");var k={recoType:p,r:u,outContentId:y,outDomainId:h,outurl:n.href,pageSize:l.pageSize};"banner"===p&&(k.bannerNumber=f),v.sendEvent(window.widget,g,k,m)}}}},{key:"closeWidgetFrame",value:function(){var e=this.options.frameId;v.sendEvent(window.widget,"@WidgetClose",{widgetType:"popup"},(function(){Object(d.c)({func:"closeIframe",value:{fid:e}})}))}},{key:"initClickEvent",value:function(){$(document).on("touchstart touchmove mousedown mousemove mouseup pointerdown pointermove pointerup",".video_item",".logo",(function(e){return e.stopPropagation()}));var e=this;$(document).on("click thouchend",".video_item",(function(t){e.onContentClick(t,e)})),$(document).on("click thouchend",".video_item .outlink",(function(t){var i=$(t.currentTarget).parents("a");e.player.isPlayingContent(i.parent())&&(t.currentTarget=i[0],window.open(i.attr("href")),e.onContentClick(t,e))})),$(document).on("click thouchend",".popup_close",(function(t){e.closeWidgetFrame()})),$(document).on("click thouchend",".expandPlayerOutlink",(function(t){var i=$(t.currentTarget).find("a");i&&(t.currentTarget=i[0],window.open(i.attr("href")),e.onContentClick(t,e))}))}},{key:"initLogoClick",value:function(){var e=$(".logo");e.attr("href","/intro/privacy-policy"),e.attr("target","_blank")}},{key:"setThumbBgImage",value:function(){var e=this.options,t=e.bgImage,i=e.deviceType;Object(u.i)(t)||(t="mobile"===i?"/images/nr_default_mobile.jpg":"/images/nr_default_pc.jpg"),this.thumbBgImage=t}},{key:"initThumbBg",value:function(){!1!==this.options.bgDisable&&Object(u.i)(this.thumbBgImage)&&$("<style>").prop("type","text/css").html(".thumb_img { height:100%; background:url("+this.thumbBgImage+") no-repeat center/100% 100%; }").appendTo("head")}},{key:"makeThumb",value:function(e){if(!Object(u.i)(e))return e;var t=this.options.thumb||{},i=t.width||0,n=t.height||0;if("thumb"===t.api){if(0!==i||0!==n)return void 0===t.thumbCache&&(t.thumbCache="https://thumb.zumst.com/v2/convert?use_facethumb=false"+(0===i?"":"&width="+i)+(0===n?"":"&height="+n)+"&url="),t.thumbCache+e}else if("tvzum"===t.api&&0!==i&&0!==n)return e+"?w="+i+"&h="+n;return e}},{key:"makeContentData",value:function(e,t){var i=t.metas,n=this.options;return{cidx:"cidx_"+e,cimg:"cimg_"+e,order:Object(u.j)(e+1,n.orderPaddingSize),url:i.url||"",image:this.makeThumb(i.image||""),title:i.title||"",publisher:i.publisher||"",date:this.df.format(i.modifiedTime||i.publishedTime,n.dateFormat),frt:Object(u.i)(i.frt)?i.frt:null,type:this.getValidContentType(e)}}},{key:"fillContent",value:function(e){var t=this.contents;if(e<0||e>=t.length)return!1;var i=this.ad.adStatus;if(!i.isLoaded(e))return!1;i.remove(e);var n=$("#t_item").html(),a=this.makeContentData(e,t[e]);return $("#"+a.cidx).parent().html(Mustache.render(n,a)),!0}},{key:"makeRenderData",value:function(e,t){for(var i=t,n=e,a=!0===i.useSingleList?n.length:i.pageSize,o=Object(u.h)(n.length,a),r=[],s=0,l=0;s<o;s++){var d={items:[],valid:!1};r.push(d);for(var c=0;c<a&&l<n.length;c++,l++)d.items.push(this.makeContentData(l,n[l]));d.items.length>0&&(d.valid=!0)}return{title:i.title,lists:r}}},{key:"renderMustache",value:function(){var e=this.options,t=this.contents,i=$("#t_item"),n=$("#t_widget"),a=i.html(),o=n.html();if(e.pageSize>0&&Object(u.i)(a)&&Object(u.i)(o)){0===$("#widget").length&&$("body").append(e.position.enablePopUp?'<div class="popup_wrap"><div id="widget"></div><a href="#close" class="popup_close">닫기</a></div>':'<div id="widget"></div>'),$("#widget").html(Mustache.render(o,this.makeRenderData(t,e),{item:a}))}n.detach()}},{key:"resizeContentHeight",value:function(){var e=$(".content_wrap"),t=$(".content").height();t!==e.height()&&e.height(t)}}]),e}();window.runWidget=new T}]);